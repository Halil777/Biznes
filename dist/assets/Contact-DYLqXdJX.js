import{j as e,r as l}from"./index-BDxQ4raQ.js";import{u as f,a as T}from"./api-BnV5LD4Q.js";const C="_contact_header_container_14j21_1",q="_headerText_14j21_11",S="_subtitle_14j21_29",d={contact_header_container:C,headerText:q,subtitle:S},$=()=>{const{t:s}=f();return e.jsxs("div",{className:d.contact_header_container,children:[e.jsx("h1",{className:d.headerText,children:s("contact.contact")}),e.jsx("p",{className:d.subtitle,children:s("contact.subtitle")})]})},E="_contact_container_5rjql_1",O={contact_container:E},F="_contact_form_container_h4225_1",M="_form_container_h4225_11",w="_submit_container_h4225_61",D="_submit_btn_h4225_79",k="_success_message_h4225_135",B="_error_message_h4225_149",L="_notification_h4225_163",P="_fadeOut_h4225_1",t={contact_form_container:F,form_container:M,submit_container:w,submit_btn:D,success_message:k,error_message:B,notification:L,fadeOut:P},H=()=>{const{t:s,i18n:p}=f(),{data:m,error:b,isLoading:y}=T("contact_theme"),[n,x]=l.useState({username:"",email:"",text:"",phone:"",theme:""}),[r,j]=l.useState(null),[i,_]=l.useState(null),o=a=>{const{name:u,value:h}=a.target;x(c=>({...c,[u]:h}))},v=async a=>{a.preventDefault();const u={to_mail:"info@ikmaslahat.com",username:n.username,email:n.email,phone:n.phone,text:n.text,theme:n.theme},h={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)};try{const c=await fetch("https://ikmaslahat.com/send-mail",h);if(c.ok)j("Message sent successfully!"),x({username:"",email:"",text:"",phone:"",theme:""});else{const N=await c.json();_(`Error: ${N.message||"Failed to send message."}`)}}catch(c){console.error("Error sending message:",c),_("There was an error sending your message. Please try again later.")}},g=`title_${p.language}`;return l.useEffect(()=>{if(r||i){const a=setTimeout(()=>{j(null),_(null)},3e3);return()=>clearTimeout(a)}},[r,i]),e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:t.contact_form_container,children:[e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.name")}),e.jsx("input",{type:"text",name:"username",value:n.username,onChange:o,required:!0})]}),e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.number")}),e.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:o,required:!0})]}),e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.mail")}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,required:!0})]}),e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.thema")}),e.jsxs("select",{name:"theme",value:n.theme,onChange:o,required:!0,children:[e.jsx("option",{value:"",children:s("contact.thema")}),y&&e.jsx("option",{children:"Loading..."}),b&&e.jsx("option",{children:"Error loading subject"}),m==null?void 0:m.map(a=>e.jsx("option",{value:a[g],children:a[g]},a.id))]})]})]}),e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.message")}),e.jsx("textarea",{rows:6,name:"text",value:n.text,onChange:o,required:!0})]}),e.jsx("div",{className:t.submit_container,children:e.jsx("button",{className:t.submit_btn,type:"submit",children:s("contact.send")})})]}),r&&e.jsx("p",{className:`${t.success_message} ${t.notification}`,children:r}),i&&e.jsx("p",{className:`${t.error_message} ${t.notification}`,children:i})]})},R=()=>e.jsxs("div",{className:O.contact_container,id:"contact",children:[e.jsx($,{}),e.jsx(H,{})]});export{R as default};
