import{j as e,r as l}from"./index-UFafr9tN.js";import{u as g}from"./useTranslation-mjUSmatQ.js";import{u as T}from"./api-B9Y_Fxxm.js";const C="_contact_header_container_1p060_1",S="_headerText_1p060_11",$="_subtitle_1p060_29",h={contact_header_container:C,headerText:S,subtitle:$},q=()=>{const{t:s}=g();return e.jsxs("div",{className:h.contact_header_container,children:[e.jsx("h1",{className:h.headerText,children:s("contact.contact")}),e.jsx("p",{className:h.subtitle,children:s("contact.subtitle")})]})},E="_contact_container_1dag6_1",O={contact_container:E},F="_contact_form_container_h4225_1",M="_form_container_h4225_11",w="_submit_container_h4225_61",D="_submit_btn_h4225_79",k="_success_message_h4225_135",B="_error_message_h4225_149",L="_notification_h4225_163",P="_fadeOut_h4225_1",t={contact_form_container:F,form_container:M,submit_container:w,submit_btn:D,success_message:k,error_message:B,notification:L,fadeOut:P},H=()=>{const{t:s,i18n:f}=g(),{data:m,error:b,isLoading:y}=T("contact_theme"),[n,x]=l.useState({username:"",email:"",text:"",phone:"",theme:""}),[r,j]=l.useState(null),[i,u]=l.useState(null),o=a=>{const{name:_,value:d}=a.target;x(c=>({...c,[_]:d}))},v=async a=>{a.preventDefault();const _={to_mail:"microsoft7779@gmail.com",username:n.username,email:n.email,phone:n.phone,text:n.text,theme:n.theme},d={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(_)};try{const c=await fetch("https://ikmaslahat.com/send-mail",d);if(c.ok)j("Message sent successfully!"),x({username:"",email:"",text:"",phone:"",theme:""});else{const N=await c.json();u(`Error: ${N.message||"Failed to send message."}`)}}catch(c){console.error("Error sending message:",c),u("There was an error sending your message. Please try again later.")}},p=`title_${f.language}`;return l.useEffect(()=>{if(r||i){const a=setTimeout(()=>{j(null),u(null)},3e3);return()=>clearTimeout(a)}},[r,i]),e.jsxs(e.Fragment,{children:[e.jsxs("form",{onSubmit:v,children:[e.jsxs("div",{className:t.contact_form_container,children:[e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.name")}),e.jsx("input",{type:"text",name:"username",value:n.username,onChange:o,required:!0})]}),e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.number")}),e.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:o,required:!0})]}),e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.mail")}),e.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,required:!0})]}),e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.thema")}),e.jsxs("select",{name:"theme",value:n.theme,onChange:o,required:!0,children:[e.jsx("option",{value:"",children:s("contact.thema")}),y&&e.jsx("option",{children:"Loading..."}),b&&e.jsx("option",{children:"Error loading subject"}),m==null?void 0:m.map(a=>e.jsx("option",{value:a[p],children:a[p]},a.id))]})]})]}),e.jsxs("div",{className:t.form_container,children:[e.jsx("label",{children:s("contact.message")}),e.jsx("textarea",{rows:6,name:"text",value:n.text,onChange:o,required:!0})]}),e.jsx("div",{className:t.submit_container,children:e.jsx("button",{className:t.submit_btn,type:"submit",children:s("contact.send")})})]}),r&&e.jsx("p",{className:`${t.success_message} ${t.notification}`,children:r}),i&&e.jsx("p",{className:`${t.error_message} ${t.notification}`,children:i})]})},z=()=>e.jsxs("div",{className:O.contact_container,id:"contact",children:[e.jsx(q,{}),e.jsx(H,{})]});export{z as default};
